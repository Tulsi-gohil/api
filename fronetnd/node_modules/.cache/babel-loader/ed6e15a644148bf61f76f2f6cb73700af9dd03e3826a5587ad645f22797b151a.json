{"ast":null,"code":"require(\"dotenv\").config();\nconst express = require(\"express\");\nconst axios = require(\"axios\");\nconst mongoose = require(\"mongoose\");\nconst cors = require(\"cors\");\nconst Search = require(\"./models/Search\");\nconst app = express();\napp.use(cors());\napp.use(express.json());\n\n// MongoDB connect\nmongoose.connect(process.env.MONGO_URI).then(() => console.log(\"MongoDB Connected âœ…\")).catch(err => console.log(err));\n\n// Test route\napp.get(\"/\", (req, res) => {\n  res.send(\"API running ðŸš€\");\n});\n\n// ðŸ” Search API\napp.post(\"/api/search\", async (req, res) => {\n  try {\n    const {\n      query\n    } = req.body;\n    if (!query) {\n      return res.status(400).json({\n        message: \"Search query required\"\n      });\n    }\n\n    // Call Google via SerpAPI\n    const response = await axios.get(\"https://serpapi.com/search\", {\n      params: {\n        q: query,\n        engine: \"google\",\n        api_key: process.env.SERP_API_KEY\n      }\n    });\n    const results = response.data.organic_results || [];\n\n    // Save to MongoDB\n    const savedData = await Search.create({\n      query,\n      results\n    });\n    res.json({\n      message: \"Search successful\",\n      data: savedData\n    });\n  } catch (error) {\n    res.status(500).json({\n      error: error.message\n    });\n  }\n});\napp.listen(process.env.PORT, () => {\n  console.log(`Server running on port ${process.env.PORT}`);\n});","map":{"version":3,"names":["require","config","express","axios","mongoose","cors","Search","app","use","json","connect","process","env","MONGO_URI","then","console","log","catch","err","get","req","res","send","post","query","body","status","message","response","params","q","engine","api_key","SERP_API_KEY","results","data","organic_results","savedData","create","error","listen","PORT"],"sources":["D:/data/fronetnd/src/App.js"],"sourcesContent":["require(\"dotenv\").config();\nconst express = require(\"express\");\nconst axios = require(\"axios\");\nconst mongoose = require(\"mongoose\");\nconst cors = require(\"cors\");\n\nconst Search = require(\"./models/Search\");\n\nconst app = express();\napp.use(cors());\napp.use(express.json());\n\n// MongoDB connect\nmongoose\n  .connect(process.env.MONGO_URI)\n  .then(() => console.log(\"MongoDB Connected âœ…\"))\n  .catch((err) => console.log(err));\n\n// Test route\napp.get(\"/\", (req, res) => {\n  res.send(\"API running ðŸš€\");\n});\n\n// ðŸ” Search API\napp.post(\"/api/search\", async (req, res) => {\n  try {\n    const { query } = req.body;\n\n    if (!query) {\n      return res.status(400).json({ message: \"Search query required\" });\n    }\n\n    // Call Google via SerpAPI\n    const response = await axios.get(\"https://serpapi.com/search\", {\n      params: {\n        q: query,\n        engine: \"google\",\n        api_key: process.env.SERP_API_KEY,\n      },\n    });\n\n    const results = response.data.organic_results || [];\n\n    // Save to MongoDB\n    const savedData = await Search.create({\n      query,\n      results,\n    });\n\n    res.json({\n      message: \"Search successful\",\n      data: savedData,\n    });\n  } catch (error) {\n    res.status(500).json({ error: error.message });\n  }\n});\n\napp.listen(process.env.PORT, () => {\n  console.log(`Server running on port ${process.env.PORT}`);\n});\n"],"mappings":"AAAAA,OAAO,CAAC,QAAQ,CAAC,CAACC,MAAM,CAAC,CAAC;AAC1B,MAAMC,OAAO,GAAGF,OAAO,CAAC,SAAS,CAAC;AAClC,MAAMG,KAAK,GAAGH,OAAO,CAAC,OAAO,CAAC;AAC9B,MAAMI,QAAQ,GAAGJ,OAAO,CAAC,UAAU,CAAC;AACpC,MAAMK,IAAI,GAAGL,OAAO,CAAC,MAAM,CAAC;AAE5B,MAAMM,MAAM,GAAGN,OAAO,CAAC,iBAAiB,CAAC;AAEzC,MAAMO,GAAG,GAAGL,OAAO,CAAC,CAAC;AACrBK,GAAG,CAACC,GAAG,CAACH,IAAI,CAAC,CAAC,CAAC;AACfE,GAAG,CAACC,GAAG,CAACN,OAAO,CAACO,IAAI,CAAC,CAAC,CAAC;;AAEvB;AACAL,QAAQ,CACLM,OAAO,CAACC,OAAO,CAACC,GAAG,CAACC,SAAS,CAAC,CAC9BC,IAAI,CAAC,MAAMC,OAAO,CAACC,GAAG,CAAC,qBAAqB,CAAC,CAAC,CAC9CC,KAAK,CAAEC,GAAG,IAAKH,OAAO,CAACC,GAAG,CAACE,GAAG,CAAC,CAAC;;AAEnC;AACAX,GAAG,CAACY,GAAG,CAAC,GAAG,EAAE,CAACC,GAAG,EAAEC,GAAG,KAAK;EACzBA,GAAG,CAACC,IAAI,CAAC,gBAAgB,CAAC;AAC5B,CAAC,CAAC;;AAEF;AACAf,GAAG,CAACgB,IAAI,CAAC,aAAa,EAAE,OAAOH,GAAG,EAAEC,GAAG,KAAK;EAC1C,IAAI;IACF,MAAM;MAAEG;IAAM,CAAC,GAAGJ,GAAG,CAACK,IAAI;IAE1B,IAAI,CAACD,KAAK,EAAE;MACV,OAAOH,GAAG,CAACK,MAAM,CAAC,GAAG,CAAC,CAACjB,IAAI,CAAC;QAAEkB,OAAO,EAAE;MAAwB,CAAC,CAAC;IACnE;;IAEA;IACA,MAAMC,QAAQ,GAAG,MAAMzB,KAAK,CAACgB,GAAG,CAAC,4BAA4B,EAAE;MAC7DU,MAAM,EAAE;QACNC,CAAC,EAAEN,KAAK;QACRO,MAAM,EAAE,QAAQ;QAChBC,OAAO,EAAErB,OAAO,CAACC,GAAG,CAACqB;MACvB;IACF,CAAC,CAAC;IAEF,MAAMC,OAAO,GAAGN,QAAQ,CAACO,IAAI,CAACC,eAAe,IAAI,EAAE;;IAEnD;IACA,MAAMC,SAAS,GAAG,MAAM/B,MAAM,CAACgC,MAAM,CAAC;MACpCd,KAAK;MACLU;IACF,CAAC,CAAC;IAEFb,GAAG,CAACZ,IAAI,CAAC;MACPkB,OAAO,EAAE,mBAAmB;MAC5BQ,IAAI,EAAEE;IACR,CAAC,CAAC;EACJ,CAAC,CAAC,OAAOE,KAAK,EAAE;IACdlB,GAAG,CAACK,MAAM,CAAC,GAAG,CAAC,CAACjB,IAAI,CAAC;MAAE8B,KAAK,EAAEA,KAAK,CAACZ;IAAQ,CAAC,CAAC;EAChD;AACF,CAAC,CAAC;AAEFpB,GAAG,CAACiC,MAAM,CAAC7B,OAAO,CAACC,GAAG,CAAC6B,IAAI,EAAE,MAAM;EACjC1B,OAAO,CAACC,GAAG,CAAC,0BAA0BL,OAAO,CAACC,GAAG,CAAC6B,IAAI,EAAE,CAAC;AAC3D,CAAC,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}